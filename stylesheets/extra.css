/* ═══════════════════════════════════════════════════════════════════════════
   From-Scratch Foundations — MkDocs Material Overrides
   Aligned with vitorsousa.com design system
   ═══════════════════════════════════════════════════════════════════════════ */

/* ── Fonts ─────────────────────────────────────────────────────────────────
   System font stack matching your Astro site, with fallback to clean
   sans-serif. Monospace uses JetBrains Mono for code blocks.              */

@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');

:root {
  --md-text-font: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica,
                  Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
  --md-code-font: "JetBrains Mono", "SFMono-Regular", Consolas,
                  "Liberation Mono", Menlo, monospace;
}


/* ── Light Mode Palette ────────────────────────────────────────────────────
   Warm neutrals with a muted steel-blue accent.                           */

[data-md-color-scheme="default"] {
  --md-primary-fg-color:          #1a1a2e;
  --md-primary-fg-color--light:   #2d2d44;
  --md-primary-fg-color--dark:    #0f0f1a;
  --md-primary-bg-color:          #ffffff;
  --md-primary-bg-color--light:   #ffffff;

  --md-accent-fg-color:           #4a6fa5;       /* muted steel-blue */
  --md-accent-fg-color--transparent: rgba(74, 111, 165, 0.12);

  --md-default-bg-color:          #fafafa;
  --md-default-fg-color:          #1f2328;
  --md-default-fg-color--light:   #57606a;
  --md-default-fg-color--lighter: #8b949e;
  --md-default-fg-color--lightest: #d1d5db;

  --md-typeset-color:             #1f2328;
  --md-typeset-a-color:           #4a6fa5;

  --md-code-bg-color:             #f4f4f6;
  --md-code-fg-color:             #24292f;

  --md-footer-bg-color:           #1a1a2e;
  --md-footer-bg-color--dark:     #0f0f1a;
  --md-footer-fg-color:           #c9d1d9;
  --md-footer-fg-color--light:    #8b949e;

  /* admonition custom tones */
  --fsf-note-color:               #4a6fa5;
  --fsf-tip-color:                #3d8b6e;
  --fsf-warning-color:            #c6873e;
  --fsf-research-color:           #7a6fad;
}


/* ── Dark Mode Palette ─────────────────────────────────────────────────────
   Matches your Astro site's dark theme — deep, desaturated bg.            */

[data-md-color-scheme="slate"] {
  --md-primary-fg-color:          #c9d1d9;
  --md-primary-fg-color--light:   #e6edf3;
  --md-primary-fg-color--dark:    #8b949e;
  --md-primary-bg-color:          #0d1117;
  --md-primary-bg-color--light:   #161b22;

  --md-accent-fg-color:           #6d9fd4;       /* lighter steel-blue for dark */
  --md-accent-fg-color--transparent: rgba(109, 159, 212, 0.15);

  --md-default-bg-color:          #0d1117;
  --md-default-fg-color:          #c9d1d9;
  --md-default-fg-color--light:   #8b949e;
  --md-default-fg-color--lighter: #484f58;
  --md-default-fg-color--lightest: #30363d;

  --md-typeset-color:             #c9d1d9;
  --md-typeset-a-color:           #6d9fd4;

  --md-code-bg-color:             #161b22;
  --md-code-fg-color:             #e6edf3;

  --md-footer-bg-color:           #010409;
  --md-footer-bg-color--dark:     #010409;
  --md-footer-fg-color:           #8b949e;
  --md-footer-fg-color--light:    #484f58;

  --fsf-note-color:               #6d9fd4;
  --fsf-tip-color:                #56d4a0;
  --fsf-warning-color:            #e3b15a;
  --fsf-research-color:           #a594d4;
}


/* ── Header ────────────────────────────────────────────────────────────────
   Flat, no shadow, blends into page — matching your site's clean nav.     */

.md-header {
  background: var(--md-primary-bg-color);
  box-shadow: none;
  border-bottom: 1px solid var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .md-header {
  background: #010409;
  border-bottom-color: #21262d;
}

.md-header__title {
  font-weight: 600;
  font-size: 0.85rem;
  letter-spacing: 0.01em;
}

.md-header__topic:first-child {
  font-weight: 600;
}


/* ── Navigation Tabs ───────────────────────────────────────────────────────
   Subtle uppercase labels, matching your site's top nav.                  */

.md-tabs {
  background: var(--md-primary-bg-color);
  border-bottom: 1px solid var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .md-tabs {
  background: #010409;
  border-bottom-color: #21262d;
}

.md-tabs__link {
  font-weight: 500;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  opacity: 0.65;
  transition: opacity 0.2s ease;
}

.md-tabs__link:hover,
.md-tabs__link--active {
  opacity: 1;
}


/* ── Sidebar ───────────────────────────────────────────────────────────────
   Clean, subtle, no clutter.                                              */

.md-sidebar {
  border-right: none;
}

.md-nav__link {
  font-size: 0.82rem;
  transition: color 0.15s ease;
}

.md-nav__link:hover {
  color: var(--md-accent-fg-color);
}

.md-nav__link--active {
  font-weight: 600;
  color: var(--md-accent-fg-color);
}


/* ── Typography ────────────────────────────────────────────────────────────
   Clean hierarchy, subtle separators, readable body text.                 */

.md-typeset {
  font-size: 0.85rem;
  line-height: 1.72;
  color: var(--md-typeset-color);
}

.md-typeset h1 {
  font-weight: 700;
  font-size: 1.8em;
  letter-spacing: -0.025em;
  line-height: 1.2;
  margin-bottom: 0.8em;
  color: var(--md-default-fg-color);
}

.md-typeset h2 {
  font-weight: 600;
  font-size: 1.35em;
  letter-spacing: -0.015em;
  margin-top: 2em;
  padding-bottom: 0.35em;
  border-bottom: 1px solid var(--md-default-fg-color--lightest);
}

.md-typeset h3 {
  font-weight: 600;
  font-size: 1.1em;
  letter-spacing: -0.01em;
  margin-top: 1.6em;
}

.md-typeset h4 {
  font-weight: 600;
  font-size: 0.95em;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--md-default-fg-color--light);
  margin-top: 1.4em;
}

.md-typeset a {
  color: var(--md-typeset-a-color);
  text-decoration: none;
  border-bottom: 1px solid transparent;
  transition: border-color 0.15s ease;
}

.md-typeset a:hover {
  border-bottom-color: var(--md-typeset-a-color);
}

.md-typeset blockquote {
  border-left: 3px solid var(--md-default-fg-color--lightest);
  color: var(--md-default-fg-color--light);
  font-style: italic;
  padding: 0.4em 1em;
  margin: 1.2em 0;
}

.md-typeset hr {
  border: none;
  height: 1px;
  background: var(--md-default-fg-color--lightest);
  margin: 2.5em 0;
}


/* ── Code Blocks ───────────────────────────────────────────────────────────
   Clean background, subtle border, smaller font.                          */

.md-typeset code {
  font-size: 0.82em;
  padding: 0.15em 0.35em;
  border-radius: 4px;
  background: var(--md-code-bg-color);
  border: 1px solid var(--md-default-fg-color--lightest);
}

.md-typeset pre {
  border-radius: 6px;
  border: 1px solid var(--md-default-fg-color--lightest);
}

.md-typeset pre > code {
  font-size: 0.8em;
  line-height: 1.65;
  border: none;
  padding: 0;
}

/* copy button styling */
.md-clipboard {
  color: var(--md-default-fg-color--lighter);
}

.md-clipboard:hover {
  color: var(--md-accent-fg-color);
}

[data-md-color-scheme="slate"] .md-typeset code {
  border-color: #30363d;
}

[data-md-color-scheme="slate"] .md-typeset pre {
  border-color: #30363d;
}


/* ── Admonitions ───────────────────────────────────────────────────────────
   Muted, flat style — no heavy borders. Matches your site's subtle UI.   */

.md-typeset .admonition,
.md-typeset details {
  border: none;
  border-left: 3px solid;
  border-radius: 0 6px 6px 0;
  box-shadow: none;
  font-size: 0.84rem;
}

.md-typeset .admonition-title,
.md-typeset details summary {
  font-weight: 600;
  font-size: 0.84rem;
  letter-spacing: 0.01em;
}

/* note */
.md-typeset .admonition.note,
.md-typeset details.note {
  border-left-color: var(--fsf-note-color);
}

/* tip */
.md-typeset .admonition.tip,
.md-typeset details.tip {
  border-left-color: var(--fsf-tip-color);
}

/* warning */
.md-typeset .admonition.warning,
.md-typeset details.warning {
  border-left-color: var(--fsf-warning-color);
}


/* ── Custom "research" Admonition ──────────────────────────────────────── */

:root {
  --md-admonition-icon--research: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>');
}

.md-typeset .admonition.research,
.md-typeset details.research {
  border-left-color: var(--fsf-research-color);
}

.md-typeset .research > .admonition-title,
.md-typeset .research > summary {
  background-color: rgba(122, 111, 173, 0.08);
}

[data-md-color-scheme="slate"] .md-typeset .research > .admonition-title,
[data-md-color-scheme="slate"] .md-typeset .research > summary {
  background-color: rgba(165, 148, 212, 0.08);
}

.md-typeset .research > .admonition-title::before,
.md-typeset .research > summary::before {
  background-color: var(--fsf-research-color);
  -webkit-mask-image: var(--md-admonition-icon--research);
  mask-image: var(--md-admonition-icon--research);
}


/* ── Tables ────────────────────────────────────────────────────────────────
   Minimal, clean lines.                                                   */

.md-typeset table:not([class]) {
  font-size: 0.82rem;
  border: 1px solid var(--md-default-fg-color--lightest);
  border-radius: 6px;
  border-collapse: separate;
  border-spacing: 0;
  overflow: hidden;
}

.md-typeset table:not([class]) th {
  background: var(--md-code-bg-color);
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.72rem;
  letter-spacing: 0.05em;
  color: var(--md-default-fg-color--light);
  padding: 0.75em 1em;
  border-bottom: 1px solid var(--md-default-fg-color--lightest);
}

.md-typeset table:not([class]) td {
  padding: 0.6em 1em;
  border-bottom: 1px solid var(--md-default-fg-color--lightest);
}

.md-typeset table:not([class]) tr:last-child td {
  border-bottom: none;
}


/* ── Math (KaTeX) ──────────────────────────────────────────────────────── */

.md-typeset .katex-display {
  margin: 1.4em 0;
  overflow-x: auto;
  padding: 0.6em 0;
}

.md-typeset .katex {
  font-size: 1.05em;
}


/* ── Cards Grid (for landing page) ─────────────────────────────────────── */

.md-typeset .grid.cards > ul > li {
  border: 1px solid var(--md-default-fg-color--lightest);
  border-radius: 8px;
  padding: 1.2em;
  transition: border-color 0.2s ease, transform 0.2s ease;
}

.md-typeset .grid.cards > ul > li:hover {
  border-color: var(--md-accent-fg-color);
  transform: translateY(-2px);
}

[data-md-color-scheme="slate"] .md-typeset .grid.cards > ul > li {
  border-color: #30363d;
  background: #161b22;
}

[data-md-color-scheme="slate"] .md-typeset .grid.cards > ul > li:hover {
  border-color: var(--md-accent-fg-color);
}


/* ── Tags ──────────────────────────────────────────────────────────────── */

.md-typeset .md-tag {
  font-size: 0.62rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  padding: 0.2em 0.6em;
  border-radius: 3px;
  background: var(--md-accent-fg-color--transparent);
  color: var(--md-accent-fg-color);
  border: none;
}


/* ── Footer ────────────────────────────────────────────────────────────────
   Minimal, matching your site's footer feel.                              */

.md-footer {
  border-top: 1px solid var(--md-default-fg-color--lightest);
}

[data-md-color-scheme="slate"] .md-footer {
  border-top-color: #21262d;
}

.md-footer-meta {
  font-size: 0.75rem;
}


/* ── Search ────────────────────────────────────────────────────────────── */

.md-search__input {
  font-size: 0.85rem;
  background: var(--md-code-bg-color);
  border-radius: 6px;
}

[data-md-color-scheme="slate"] .md-search__input {
  background: #161b22;
}


/* ── TOC (right sidebar) ──────────────────────────────────────────────── */

.md-nav--secondary .md-nav__link {
  font-size: 0.75rem;
}

.md-nav--secondary .md-nav__link--active {
  color: var(--md-accent-fg-color);
  font-weight: 500;
}


/* ── Scrollbar (dark mode) ─────────────────────────────────────────────── */

[data-md-color-scheme="slate"] ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

[data-md-color-scheme="slate"] ::-webkit-scrollbar-track {
  background: #0d1117;
}

[data-md-color-scheme="slate"] ::-webkit-scrollbar-thumb {
  background: #30363d;
  border-radius: 4px;
}

[data-md-color-scheme="slate"] ::-webkit-scrollbar-thumb:hover {
  background: #484f58;
}


/* ── Content max-width (readability) ───────────────────────────────────── */

.md-content__inner {
  max-width: 52em;
}


/* ── Smooth transitions ────────────────────────────────────────────────── */

.md-typeset a,
.md-tabs__link,
.md-nav__link,
.md-clipboard,
.md-typeset .grid.cards > ul > li {
  transition: all 0.15s ease;
}